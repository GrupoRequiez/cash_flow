<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <template id="cash_flow_report_document">
    <t t-set="docs" t-value="docs.with_context({'lang':user.partner_id.lang})"/>
    <t t-call="web.html_container">
      <t t-foreach="docs" t-as="o">
			<t t-call="web.basic_layout">
				<div class="page">
					<div style="background-color: rgb(252, 199, 187 ); text-align: center; border: 1px solid black;">
						<div style="text-decoration: underline;">
							<h1>
								GRUPO REQUIEZ SA DE CV
							</h1>
							<h3>
								REPORTE FLUJO DE EFECTIVO
							</h3>
						</div>
						<h6>
							PERIODO: <span t-field="o.date_start"/> AL <span t-field="o.date_end"/>
						</h6>
					</div>

					<div class="row mt32 mb32">
						<table style="border: 1px solid black;"  class="table table-bordered table-condensed" >
							<thead>
								<tr style="font-size: 18px;">
									<th>
									  <span>CUENTA</span>
									</th>
									<th>
									  <span>SALDO INICIAL</span>
									</th>
									<th>
									  <span>TRASPASOS</span>
									</th>
									<th>
									  <span>INGRESOS</span>
									</th>
									<th>
									  <span>RENDIMIENTOS</span>
									</th>
									<th>
									  <span>ENTRADAS</span>
									</th>
									<th>
									  <span>PAGOS</span>
									</th>
									<th>
									  <span>COMIS.</span>
									</th>
									<th>
									  <span>RET.</span>
									</th>
									<th>
									  <span>SALIDAS</span>
									</th>
									<th>
									  <span>SALDO</span>
									</th>
								 </tr>
							</thead>

							<tbody>
								<tr t-foreach="o.cash_flow_detail_ids" t-as="l" style="font-size: 12px; text-align: center">
									<td>
										<span t-field="l.account_name"/>
									</td>
									<td>
										<span t-field="l.initial_balance" widget="monetary"/>
									</td>
									<td>
										<span t-field="l.transfer_amount" widget="monetary"/>
									</td>
									<td>
										<span t-field="l.income_ammount" widget="monetary"/>
									</td>
									<td>
										<span t-field="l.yield_amount" widget="monetary"/>
									</td>
									<td>
										<t t-set="income_total" t-value="l.income_ammount+l.yield_amount"/>
										<t t-esc="income_total" widget="monetary"/>
									</td>
									<td>
										<span t-field="l.expense_amount" widget="monetary"/>
									</td>
									<td>
										<span t-field="l.commissions_amount" widget="monetary"/>
									</td>
									<td>
										<span t-field="l.withholdings_amount" widget="monetary"/>
									</td>
									<td>
										<t t-set="outcome_total" t-value="l.expense_amount+l.commissions_amount+l.withholdings_amount"/>
										<t t-esc="outcome_total" widget="monetary"/>
									</td>
									<td>
										<t t-set="total" t-value="l.initial_balance+l.transfer_amount+income_total-outcome_total"/>
										<t t-esc="total" widget="monetary"/>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</t>
		</t>
    </t>
  </template>

  <template id="cash_flow_report_template">
    <t t-call="web.html_container">
      <t t-call="cash_flow.cash_flow_report_document" t-lang="user.partner_id.lang"/>
    </t>
  </template>
</odoo>
